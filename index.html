<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Letters Across the Sky</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Monsieur+La+Doulaise&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="style.css" />
  </head>

  <body>
    <!-- SECTION 1: Hero (night) -->
    <section class="hero">
      <div class="hero-content">
        <h1 class="monsieur-la-doulaise-bold">Letters Across the Sky</h1>
        <h3 class="monsieur-la-doulaise-subtitle">For the one whose voice crosses oceans…</h3>
      </div>
      <canvas id="stars"></canvas>
    </section>

    <!-- SECTION 2: Soft content with floating hearts -->
    <section class="content">
      <canvas id="hearts"></canvas>

      <div class="content-wrapper">
        <h2 class="monsieur-la-doulaise-bold fade-in" style="color:#000">Sweet note of my declaration..</h2>
        <p class="fade-in">In the quiet moments, when the world fades away, I find myself thinking of you...</p>
        <p class="fade-in">May these words carry my love across the miles...</p>
      </div>

      <div class="content-footer">
        <p class="monsieur-la-doulaise-signature fade-in">With all my love,</p>
        <p class="monsieur-la-doulaise-signature fade-in">Your Serendipity</p>
      </div>
    </section>

    <!-- SECTION 3 · Alpine Evening with Envelope -->
     <section class="letter-section alpine-photo" id="letter" aria-label="Love letter envelope">
      <!-- background image layer -->
      <div class="bg" aria-hidden="true"></div>
      <!-- warm sunset glow -->
      <div class="warm-glow" aria-hidden="true"></div>
      <!-- soft vignette for depth -->
      <div class="vignette" aria-hidden="true"></div>

      <!-- Envelope -->
      <div class="envelope-wrap">
        <button class="envelope" id="envelope" aria-label="Open letter" aria-expanded="false" aria-controls="love-letter">
          <span class="flap" aria-hidden="true"></span>
          <span class="left-door" aria-hidden="true"></span>
          <span class="right-door" aria-hidden="true"></span>

          <span class="paper" id="love-letter">
            <div class="paper-inner">
              <h2 class="letter-title">My love,</h2>
              <p class="message">
                You’re the reason stars shine a little brighter in my sky. Six meetings, our little
                <span class="gold">Hexad</span>, yet enough for my heart to know. Across time zones and oceans,
                I’m still right beside you.
              </p>
              <div class="wax-seal" aria-hidden="true">K♥️R</div>
              <p class="sign-off monsieur-la-doulaise-signature">— Your Serendipity</p>
            </div>
          </span>
        </button>
      </div>
    </section>

    <!-- (Optional) audio -->
    <audio id="bg-music" autoplay loop>
      <source src="assets/audio/audio.mp3" type="audio/mpeg">
      Your browser does not support the audio element.
    </audio>

    <!-- keep your existing stars/hearts animations in script.js -->
    <script src="script.js"></script>

    <!-- tiny inline script to toggle the envelope + warm glow -->
    <script>
      (function () {
        const env = document.getElementById('envelope');
        if (!env) return;
        const section = env.closest('.letter-section');

        function toggleOpen() {
          const isOpen = env.classList.toggle('open');
          env.setAttribute('aria-expanded', String(isOpen));
          if (section) section.classList.toggle('envelope-open', isOpen);
        }
        env.addEventListener('click', toggleOpen);
        env.addEventListener('touchstart', e => { e.preventDefault(); toggleOpen(); }, { passive: false });

        // gentle autoplay unblock helper for your bg-music
        function enableMusicOnce() {
          const audio = document.getElementById('bg-music');
          if (audio && audio.paused) { audio.play().catch(()=>{}); }
          ['click','touchstart','scroll','keydown'].forEach(ev => document.removeEventListener(ev, enableMusicOnce));
        }
        ['click','touchstart','scroll','keydown'].forEach(ev => document.addEventListener(ev, enableMusicOnce));
      })();
    </script>
  </body>
</html>
